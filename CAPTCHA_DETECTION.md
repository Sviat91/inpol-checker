# –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è Akamai –∫–∞–ø—á–∏

## üö® –ü—Ä–æ–±–ª–µ–º–∞

Akamai –∫–∞–ø—á–∞ –ø–æ—è–≤–ª—è–ª–∞—Å—å –Ω–æ –±–æ—Ç –µ–µ –Ω–µ –∑–∞–º–µ—á–∞–ª, –ø—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –Ω–∏ –≤ —á–µ–º –Ω–µ –±—ã–≤–∞–ª–æ.

**–°—Ç–∞—Ä–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è:**
- –ò—Å–∫–∞–ª–∞ —Ç–æ–ª—å–∫–æ `iframe[src*='akamai']`
- –ö–∞–ø—á–∞ —á–∞—Å—Ç–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ **overlay div**, –∞ –Ω–µ iframe
- –ü—Ä–æ–≤–µ—Ä—è–ª–∞—Å—å —Ä–µ–¥–∫–æ - —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –º–µ—Å—è—Ü–µ–º

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–µ—Ç–µ–∫—Ü–∏–∏

```python
def detect_captcha():
    # Method 1: Akamai iframe
    if iframe[src*='akamai']:
        captcha_detected = True
    
    # Method 2: Akamai div overlay
    if div[id*='sec-if-cpt'] or div[id*='sec-cpt']:
        if div.is_displayed():
            captcha_detected = True
    
    # Method 3: Text –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    if 'potwierd≈∫, ≈ºe jeste≈õ cz≈Çowiekiem' in page_text:
        if captcha_button.exists():
            captcha_detected = True
    
    # Method 4: Captcha checkbox
    if input[type='checkbox'][id*='robot']:
        captcha_detected = True
```

### 2. –ß–∞—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–¢–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞
- ‚úÖ **–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏** (–Ω–æ–≤–æ–µ!)
- ‚úÖ –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –Ω–æ–≤—ã–º –º–µ—Å—è—Ü–µ–º
- ‚úÖ **–ö–∞–∂–¥—ã–µ 5 –¥–∞—Ç** (–Ω–æ–≤–æ–µ!)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–ø—á–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 10-30 —Å–µ–∫—É–Ω–¥

### 3. Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:**
```
üö® AKAMAI CAPTCHA DETECTED!

‚è∞ Bot paused for 2 minutes
üîó VNC: http://localhost:6080 (password: password)
‚úÖ Please solve the captcha manually

‚ö†Ô∏è If not solved in 2 min, bot will try to continue
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∫–∞–ø—á—É
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
3. –õ–æ–≥–∏—Ä—É–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å: `CAPTCHA DETECTED - pausing for 2 minutes`
4. –ñ–¥–µ—Ç 120 —Å–µ–∫—É–Ω–¥
5. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

## üìã –°–µ–ª–µ–∫—Ç–æ—Ä—ã Akamai –∫–∞–ø—á–∏

### Overlay DIV
```css
div[id*='sec-if-cpt']
div[id*='sec-cpt']
div.behavioral-content
```

### Iframe
```css
iframe[src*='akamai']
```

### –¢–µ–∫—Å—Ç (–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π)
- üáµüá± "Potwierd≈∫, ≈ºe jeste≈õ cz≈Çowiekiem"
- üáµüá± "Nie jestem robotem"
- üá¨üáß "Confirm you are human"
- üá¨üáß "I'm not a robot"
- üá¨üáß "Verify you are human"

### Checkbox
```css
input[type='checkbox'][id*='robot']
input[type='checkbox'][class*='captcha']
```

## üéØ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –ö–æ–≥–¥–∞ –∫–∞–ø—á–∞ –ù–ï –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞:
```
[INFO] check 20 PA≈π 2025
[INFO] check 21 PA≈π 2025
[INFO] check 22 PA≈π 2025
[INFO] check 23 PA≈π 2025
[INFO] check 24 PA≈π 2025
[DEBUG] Captcha check (day_counter=5) - none found
```

### –ö–æ–≥–¥–∞ –∫–∞–ø—á–∞ –û–ë–ù–ê–†–£–ñ–ï–ù–ê:
```
[INFO] check 20 PA≈π 2025
[INFO] check 21 PA≈π 2025
[DEBUG] Captcha detected: Akamai div overlay found
[WARNING] CAPTCHA DETECTED - pausing for 2 minutes
[INFO] Waiting 120 seconds for captcha to be solved manually...

üì± Telegram: "üö® AKAMAI CAPTCHA DETECTED! ..."

[—á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã]
[INFO] Resuming after captcha wait period
[INFO] check 22 PA≈π 2025
```

## üîß –ö–∞–∫ —Ä–µ—à–∏—Ç—å –∫–∞–ø—á—É –≤—Ä—É—á–Ω—É—é

### –ß–µ—Ä–µ–∑ VNC:
1. –û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä: http://localhost:6080
2. –ü–∞—Ä–æ–ª—å: `password`
3. –£–≤–∏–¥–∏—à—å popup —Å –∫–∞–ø—á–µ–π
4. –ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É "Nie jestem robotem"
5. –ü–æ–¥–æ–∂–¥–∏ 2-5 —Å–µ–∫—É–Ω–¥
6. –ö–∞–ø—á–∞ –∏—Å—á–µ–∑–Ω–µ—Ç
7. –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É

### –ß–µ—Ä–µ–∑ Telegram:
1. –ü–æ–ª—É—á–∏—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: üö® AKAMAI CAPTCHA DETECTED!
2. –û—Ç–∫—Ä–æ–π VNC (—Å—Å—ã–ª–∫–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏)
3. –†–µ—à–∏ –∫–∞–ø—á—É (–≥–∞–ª–æ—á–∫–∞)
4. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —á–µ—Ä–µ–∑ 2 –º–∏–Ω

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
```bash
# –í .env —Ñ–∞–π–ª–µ:
TELEGRAM_TOKEN=your_bot_token_from_@BotFather
TELEGRAM_CHAT_ID=your_chat_id_from_@userinfobot
```

**–ë–µ–∑ Telegram:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ü—Ä–∏–¥–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
- **–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

### –í—Ä–µ–º—è –ø–∞—É–∑—ã:
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **120 —Å–µ–∫—É–Ω–¥ (2 –º–∏–Ω—É—Ç—ã)**

–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `lib/checker.py`:
```python
time.sleep(120)  # Change this number (seconds)
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫

**–ù–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª (3 –∞–¥—Ä–µ—Å–∞ √ó 5 –º–µ—Å—è—Ü–µ–≤):**
- ~150 –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–∞—Ç
- ~30 –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–∞–ø—á–∏ (–∫–∞–∂–¥–∞—è 5-—è –¥–∞—Ç–∞)
- ~6 –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–¥ –º–µ—Å—è—Ü–∞–º–∏
- ~3 –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏

**–ò—Ç–æ–≥–æ:** ~40 –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–∞–ø—á–∏ –∑–∞ —Ü–∏–∫–ª

**–í—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 10-30 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è

## üöÄ –ê–∫—Ç–∏–≤–∞—Ü–∏—è

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker:
```bash
docker compose down
docker compose build
docker compose up
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```bash
EMAIL=... PASSWORD=... CASE_ID=... \
TELEGRAM_TOKEN=... TELEGRAM_CHAT_ID=... \
python test_checker_simple.py
```

## üìù –õ–æ–≥–∏

### DEBUG —É—Ä–æ–≤–µ–Ω—å:
```bash
LOG_LEVEL=DEBUG python test_checker_simple.py
```

–£–≤–∏–¥–∏—à—å:
```
[DEBUG] Captcha detected: Akamai iframe found
[DEBUG] Captcha detected: Akamai div overlay found
[DEBUG] Captcha detected: keyword "nie jestem robotem" found
[DEBUG] Captcha check (day_counter=5) - none found
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **Telegram –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
2. **VNC –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–∞–ø—á–∏
3. **2 –º–∏–Ω—É—Ç—ã** –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–π –∫–∞–ø—á–∏
4. –ï—Å–ª–∏ –∫–∞–ø—á–∞ —Å–ª–æ–∂–Ω–∞—è (–∫–∞—Ä—Ç–∏–Ω–∫–∏) - –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
5. –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–ø—á–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞ (–º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –ø–æ–∑–∂–µ)

## üéØ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- **AntiCaptcha API** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- **2Captcha API** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
- **–ë–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–∞—è –ø–∞—É–∑–∞** - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–∞–ø—á
- **Retry –ª–æ–≥–∏–∫–∞** - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è

–ù–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Å —Ä—É—á–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º! üöÄ
